<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
            Instrucciones: Dado un array de nombres,
            cuenta cuántas veces aparece cada nombre y devuelve
            un objeto en el que las claves son los nombres y los valores 
            son sus conteos.
        */
      const nombres = [
        "Juan",
        "Ana",
        "Pedro",
        "Juan",
        "Ana",
        "Ana",
        "Pedro",
        "Maria",
      ];
      const contarNombres = nombres.reduce((contador, nombre) => {
        // si el nombre ya existe en el contador, lo incrementamos
        if (contador[nombre]) {
          contador[nombre]++;
        } else {
          contador[nombre] = 1;
        }
        return contador;
      }, {}); //{} es el valor inicial del acumulador
      console.log("EJERCICIO 1");
      console.log(contarNombres);

      let contador = 0;
      let repetido = "";
      nombres.map((n) => {
        let nom = nombres.filter((m) => n === m).length;
        if (nom > contador) {
          contador = nom;
          repetido = n;
        }
      });
      console.log("EJERCICIO 2");
      console.log(repetido);

      /*
            Encuentra los 3 nombres más populares
        */
      let nombreUno = "";
      let nombreDos = "";
      let nombreTres = "";

      let cantidadUno = 0;
      let cantidadDos = 0;
      let cantidadTres = 0;

      function trendy(arr) {
        arr.map((u) => {
          let cantidad = arr.filter((t) => t == u).length;

          if (cantidad > cantidadUno) {
            // Desplazo los valores hacia abajo
            nombreTres = nombreDos;
            cantidadTres = cantidadDos;
            nombreDos = nombreUno;
            cantidadDos = cantidadUno;

            nombreUno = u;
            cantidadUno = cantidad;
          } else if (cantidad > cantidadDos && u !== nombreUno) {
            nombreTres = nombreDos;
            cantidadTres = cantidadDos;

            nombreDos = u;
            cantidadDos = cantidad;
          } else if (
            cantidad > cantidadTres &&
            u !== nombreUno &&
            u !== nombreDos
          ) {
            nombreTres = u;
            cantidadTres = cantidad;
          }
        });
      }
      trendy(nombres);
      console.log("EJERCICIO 3");
      console.log(
        nombreUno + " es la persona mas popular, sale " + cantidadUno
      );
      console.log(
        nombreDos + " es la segunda persona mas popular, sale " + cantidadDos
      );
      console.log(
        nombreTres + " es la tercera persona mas popular, sale " + cantidadTres
      );

      /*
        Instrucciones: Usa filter para devolver un array de nombres únicos
        , es decir, elimina los nombres duplicados
      */
      const nombresUnicos = nombres.fitler((nombre, index) =>{
        return nombres.indexOf(nombre) === index;
      })
    </script>
  </body>
</html>
