<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reto 4</title>
  </head>
  <body>
    <script>
      var alumnos = {
        alumnos: [
          {
            nombre: "Fulanito",
            notas: {
              DWEC: 8,
              DWESE: 0.71,
              ED: 7.04,
              SSOO: 3.37,
              BBDD: 0.22,
              PROG: 1.09,
              EINEM: 6.17,
            },
          },
          {
            nombre: "Menganito",
            notas: {
              DWEC: 7,
              DWESE: 0.71,
              ED: 7.04,
              SSOO: 3.37,
              BBDD: 0.22,
              PROG: 1.09,
              EINEM: 6.17,
            },
          },
          {
            nombre: "Cetanito",
            notas: {
              DWEC: 6,
              DWESE: 0.71,
              ED: 7.04,
              SSOO: 3.37,
              BBDD: 0.22,
              PROG: 1.09,
              EINEM: 6.17,
            },
          },
        ],
      };
      // Accede a las notas de todos los alumnos y aplanar el array resultante
      let notas = alumnos.alumnos
        .map(
          (v) => Object.values(v.notas) // Obtener un array de notas para cada alumno
        )
        .flat(Infinity); // Aplanar el array de arrays en un solo array

      // Calcular y mostrar la media de todas las notas
      console.log(
        "La media de todas las notas es: " +
          notas.reduce((suma, v) => suma + v) / // Sumar todas las notas
            notas.length // Dividir la suma total por el n√∫mero de notas
      );
    </script>
  </body>
</html>
