<!DOCTYPE html>
<html>
<head>
 <title>INTERSECTION LIST</title>
</head>
<body>
PRIMERA LISTA:
<ul id="lista1">
 <li>manzana</li>
 <li>pera</li>
 <ul>
   <li>conferencia</li>
   <ul>
     <li>conferenciaverde</li>
     <li>conferenciaamarilla</li>
     <li>conferenciaroja</li>
   </ul>
   <li>peradeagua</li>
   <li>peritadulce</li>
     <ul>
     <li>Dimas</li>
     <li>Gestas</li>
     <li>Malakatos</li>
     <li>Jose</li>
   </ul>
 </ul>
 <li>limon</li>
 <li>limon</li>
 <li>LIMON</li>
</ul>
Segunda lista:
<ul id="lista2">
 <li>manzana</li>
 <li>manzana</li>
 <li>manzana</li>
 <li>manzana</li>
 <li>pera</li>
 <li>limon</li>
</ul>


 <script>

//el contenido del script lo colocaré aquí
let listado1 = [];
let listado2 = [];

let agregarlista = (obj,arr)=>{
    for(let i=0;i<obj.children.length;i++){
        agregarlista(obj.children[i],arr);

        if(obj.children[i].tagName =="LI"){
            const elemento= obj.children[i].textContent;
            if(!arr.includes(elemento)){
                arr.push(elemento);
            }
        }
    }

}
agregarlista(document.getElementById("lista1"),listado1);
agregarlista(document.getElementById("lista2"),listado2);
console.log(listado1);
console.log(listado2);
 </script>

</body>
</html>