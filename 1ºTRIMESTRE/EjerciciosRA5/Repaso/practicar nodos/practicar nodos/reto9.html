<html>
  <head>
    <title>Retos JavaScript</title>
  </head>
  <body>
    <h1>Retos JavaScript</h1>
    <ul id="carrakos"> </ul>

    <script>
      let carrakos = [
          "Chevrolet","Tesla","BMW", [  "Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday", ], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]],];

      let xungos = [
        { nombre: "Bruce Lee", carros: ["Chevrolet", "Tesla", "BMW"] },
        { nombre: "YakiChan", carros: ["Lexus", "Mercedes", "Kia"] },
      ];


      let obtenerPropietario = (coche) => {
        const propietario = xungos.find(f =>
          f.carros.includes(coche)
        );
        if (propietario) {
          return propietario.nombre;
        } else {
          return null;
        }
      };

      
      let agregarCoche = (coches, contenedor) => {
        coches.forEach((coche) => {
          if (Array.isArray(coche)) {
      
            const ul = document.createElement("ul");
            agregarCoche(coche, ul);
            contenedor.appendChild(ul);
          } else {
           
            const propietario = obtenerPropietario(coche);
            const li = document.createElement("li");

            if (propietario) {
              li.textContent = coche + " (Propietario: " + propietario + ")";
            } else {
              li.textContent = coche ;
            }

            contenedor.appendChild(li);
          }
        });
      };

   
      const ul = document.getElementById("carrakos");

      agregarCoche(carrakos, ul);
    </script>
  </body>
</html>
