<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen RA4 Yumara Vallejo</title>
</head>

<body>
    <script>
        //Ejercicio 0: Me sabrías decir los reyes de tercera generación que 
        // sean únicos(que no exista otro con ese nombre):
        const REYES = ["Chindatore", ["Chindasvinto", "Rencesvinto", "Lautaro"],
            ["Lauro", "Sisebuto", ["Fracisbuto", "Vigafredo ", ["Leovigildo", "Recaredo"]]], "Amalarico II"];

        let unicos = (arr, contador) => {
            let comprobar = arr.reduce((cont,e) => {
                if (Array.isArray(e)) {
                   cont.push(...unicos(e, contador+1))
                } else {
                    if (contador === 3) {
                        //Estamos en la tercera generación
                        cont.push(e)
                    }
                }
                return cont;
            }, [])
            return comprobar;
        }


console.log("Ejercicio 0 " + unicos(REYES, 1));

        // Ejercicio 1. Tenemos estos dos arrays.
        let arr1 = [9, 9, 8, 1, 2, 3, 3, 4, 5, 6, 7, 8, 9]
        let arr2 = [2, 3, 4, 5, 6]
        // Suma los elementos no repetidos del primer array que no estén en el segundo array.
        // Debes utilizar para ello map, find, filter y reduce. Realiza el recuento en solo una línea de
        // código.
        // El resultado será 1+7 = 8
        let suma = 0;
        let arrSin = arr1.reduce((cont, e) => {
            if (!cont.find(f => f === e) && !arr2.find(f => f === e)) {
                cont.push(e)
                suma += e
            }
            return cont
        }, [])

        console.log("Ejercicio 1: El array es " + arrSin + " y sus números  " + suma)

        // Ejercicio 2. Reyes Godos (II)
        // Se tiene el siguiente JSON (el mismo de antes)
        var godosJSON = '{"reyesgodos":[{"nombre":"Alarico","hijos":["Atanagildo","Recesvinto","Leovigildo"]},{"nombre":"RecaredoI","hijos":["Sisebuto","RecaredoII"]},{"nombre":"Suintila","hijos":["Chindasvinto","Recesvinto","Wamba","Égica","Witiza","Rodrigo"]}]} ';

        var godos = JSON.parse(godosJSON);
        // Se pide el nombre del padre de los godos que se llamen Recesvinto y que no tengan un hijo
        // llamado Leovigildo(solución Suintila).
        // Solamente puede utilizar funciones map, find y filter de arrays.No se puede utilizar if, for o
        // while.
        // Tiene que hacer el recuento solamente en una línea de código.
        let nombre = "" ;
        let reyes = godos.reyesgodos.filter(f=> f.hijos.find(e=> e === "Recesvinto") && !f.hijos.find(e=> e === "Leovigildo")).map(e=>e.nombre);

        console.log("Ejercicio 2: " + reyes)

        //Ejercicio 3. De los siguientes arrays:
        const array1 = [5, 12, 8, 130, 44];
        const array2 = [5, 8, 130, 44];
        const array3 = [5, 8, 44];
        // Se piden los elementos del array 1 mayor de 10 pero que estén en el segundo array y no en el tercero.
        // Saldría el 130.
        // Solamente puede utilizar funciones map, find y filter de arrays. No se puede utilizar if, for o while.
        // Tiene que hacer el recuento solamente en una línea de código.

        let elementos = (array1.filter(f=> f>10 && array2.find(e=>e===f) && !array3.find(e=> e===f)));
        
        console.log("Ejercicio 3: " + elementos)
    </script>
</body>

</html>